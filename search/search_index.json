{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Personal blog","text":""},{"location":"2024/08/25/build-your-blog/","title":"Build your blog","text":""},{"location":"2024/08/25/build-your-blog/#building-and-deploying-a-blog-with-mkdocs-with-ci","title":"Building and Deploying a Blog with MkDocs with CI","text":"<p>Welcome! In this guide, you\u2019ll learn how to build and deploy a blog using MkDocs, a tool that makes it easy to create beautiful documentation. We\u2019ll cover each step to help you get your blog online.</p>"},{"location":"2024/08/25/build-your-blog/#what-you-need","title":"What You Need","text":"<ol> <li>GitHub Account: You need a GitHub account to store and deploy your blog.</li> <li>Basic Knowledge: Familiarity with GitHub, Docker, and some command line basics will be helpful.</li> </ol>"},{"location":"2024/08/25/build-your-blog/#step-1-setting-up-your-blog","title":"Step 1: Setting Up Your Blog","text":"<ol> <li> <p>Create a GitHub Repository:</p> <ul> <li>Visit GitHub and log in.</li> <li>Click on New to create a repository.</li> <li>Name your repository, for example, <code>my-blog</code>.</li> <li>Choose Public or Private based on your preference.</li> <li>Click Create repository.</li> </ul> </li> <li> <p>Install MkDocs Locally:</p> <ul> <li>Open your terminal or command line.</li> <li>Install MkDocs with pip:    <pre><code>pip install mkdocs\n</code></pre></li> </ul> </li> <li> <p>Set Up Your Blog:</p> <ul> <li>Navigate to the folder where you want to create your blog.</li> <li>Run:    <pre><code>mkdocs new my-blog\n</code></pre></li> <li>This creates a folder named <code>my-blog</code> with the basic files for your blog.</li> </ul> </li> <li> <p>Customize Your Blog:</p> <ul> <li>Open the <code>mkdocs.yml</code> file in your blog's folder. This is where you set your blog\u2019s name and theme.</li> <li> <p>Modify the <code>mkdocs.yml</code> file to look like this:</p> <pre><code>site_name: My Blog\ntheme:\n  name: material\nnav:\n  - Home: index.md\n</code></pre> </li> </ul> <ul> <li>Add content by editing <code>index.md</code> or creating new Markdown files in the <code>docs</code> folder.</li> </ul> </li> </ol>"},{"location":"2024/08/25/build-your-blog/#step-2-build-and-deploy-using-docker","title":"Step 2: Build and Deploy Using Docker","text":"<ol> <li> <p>Create a Docker Image:</p> <ul> <li>Write a Dockerfile to include MkDocs and necessary tools.</li> <li> <p>Here\u2019s a basic Dockerfile:</p> <pre><code># Use Python 3.12 image\nFROM python:3.12-slim\n\n# Set the working directory\nWORKDIR /app\n\n# Install MkDocs and plugins\nRUN pip install mkdocs mkdocs-material ghp-import\n\n# Copy blog files into Docker image\nCOPY . /app\n\n# Set command to build MkDocs\nCMD [\"mkdocs\", \"build\", \"--verbose\", \"--site-dir\", \"site\"]\n</code></pre> </li> </ul> <ul> <li>Build the Docker image with:    <pre><code>docker build -t my-blog-image .\n</code></pre></li> </ul> </li> <li> <p>Deploy Your Blog:</p> <ul> <li> <p>Create a GitHub Actions workflow file to automate deployment. Save the following as <code>.github/workflows/deploy.yml</code> in your repository:</p> <pre><code>name: Build and Deploy MkDocs Site\n\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    branches:\n      - main\n  workflow_dispatch:\n\nenv:\n  IMAGE_NAME: my-blog-image\n  IMAGE_TAG: latest\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v3\n\n      - name: Build MkDocs site\n        run: |\n          docker run --rm -v ${{ github.workspace }}:/app -w /app ${{ env.IMAGE_NAME }}:${{ env.IMAGE_TAG }} mkdocs build --verbose --site-dir site\n\n      - name: Deploy to GitHub Pages\n        if: github.ref == 'refs/heads/main'\n        run: |\n          docker run --rm -v ${{ github.workspace }}:/app -w /app ${{ env.IMAGE_NAME }}:${{ env.IMAGE_TAG }} /bin/bash -c \"\n            ghp-import -n -p -f site -r https://x-access-token:${{ secrets.GITHUB_TOKEN }}@github.com/${{ github.repository }}.git -b gh-pages\"\n\n      - name: Clean up Docker resources\n        run: docker system prune -f\n</code></pre> </li> </ul> </li> </ol>"},{"location":"2024/08/25/build-your-blog/#final-steps","title":"Final Steps","text":"<ol> <li> <p>Push Your Changes:</p> <ul> <li>Commit and push your changes to GitHub:    <pre><code>git add .\ngit commit -m \"Set up MkDocs site\"\ngit push origin main\n</code></pre></li> </ul> </li> <li> <p>Ensure Correct Permissions for Deployment:</p> <ul> <li>To avoid permission issues with GitHub Actions, ensure that the <code>GITHUB_TOKEN</code> has the necessary permissions.</li> <li>Check Repository Settings:<ul> <li>Go to your repository on GitHub.</li> <li>Navigate to Settings &gt; Actions &gt; General.</li> <li>Under Workflow permissions, ensure Read and write permissions are selected.</li> </ul> </li> </ul> </li> <li> <p>Verify Deployment:</p> <ul> <li>Go to your GitHub repository.</li> <li>Navigate to Settings &gt; Pages.</li> <li>Ensure the source is set to the <code>gh-pages</code> branch.</li> </ul> <p>Your blog should now be live! Visit the URL provided in the GitHub Pages settings to see your site.</p> </li> </ol>"},{"location":"2024/08/25/build-your-blog/#conclusion","title":"Conclusion","text":"<p>Congratulations! You\u2019ve built and deployed a blog using MkDocs and Docker. This guide aimed to simplify the process, so you can easily share your content online. Happy blogging!</p> <p>For a complete example, check out my project: GitHub Repository.</p> <p>This version of the guide simplifies the instructions and organizes the steps clearly to help you get started with building and deploying your blog.</p>"},{"location":"2024/08/25/iam-for-eks/","title":"Iam for eks","text":""},{"location":"2024/08/25/iam-for-eks/#understanding-iam-roles-and-users-in-aws-with-a-practical-example-running-an-application-on-eks","title":"Understanding IAM Roles and Users in AWS with a Practical Example: Running an Application on EKS","text":"<p>AWS Identity and Access Management (IAM) is a cornerstone of security and access control in AWS environments. IAM allows you to manage users, groups, and roles, and to specify their permissions to access AWS resources. In this article, we will explore the differences between IAM roles and IAM users, provide a practical scenario of deploying an application on Amazon EKS (Elastic Kubernetes Service), and clarify how IAM roles relate to specific AWS console options.</p>"},{"location":"2024/08/25/iam-for-eks/#1-iam-role-vs-iam-user","title":"1. IAM Role vs. IAM User","text":"<p>IAM User: - An IAM user is an entity that represents a person or application that interacts with AWS resources. Each IAM user has a unique set of credentials (username and password or access keys). - IAM users are generally assigned permissions directly or through group memberships. - Example: A developer who needs access to specific AWS resources and can authenticate using their IAM user credentials.</p> <p>IAM Role: - An IAM role is an AWS identity with specific permissions that can be assumed by entities like AWS services, EC2 instances, or even IAM users. - Roles are temporary and are assumed by entities that need to perform specific actions. They do not have permanent credentials; instead, they provide temporary security credentials. - Example: An EC2 instance running a containerized application that needs to pull images from Amazon ECR.</p>"},{"location":"2024/08/25/iam-for-eks/#2-practical-scenario-deploying-an-application-on-eks","title":"2. Practical Scenario: Deploying an Application on EKS","text":"<p>Let\u2019s walk through an example of deploying an application, such as Gradio, on Amazon EKS. Gradio is a popular library for creating machine learning demos.</p> <p>Steps for Deployment:</p> <ol> <li> <p>Set Up IAM Roles for EKS:</p> <ul> <li>Cluster Role: Create an IAM role that the EKS cluster will use. This role allows EKS to manage the underlying EC2 instances and perform other operations.</li> <li>Node Instance Role: Create another IAM role for EC2 instances that will run the Kubernetes worker nodes. This role allows the instances to interact with other AWS services, like pulling images from ECR or writing logs to CloudWatch.</li> </ul> <p>Example IAM Policy for Node Instance Role:</p> <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:DescribeInstances\",\n                \"ec2:DescribeTags\",\n                \"ecr:GetAuthorizationToken\",\n                \"ecr:BatchCheckLayerAvailability\",\n                \"ecr:GetDownloadUrlForLayer\",\n                \"ecr:BatchGetImage\",\n                \"logs:CreateLogStream\",\n                \"logs:PutLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n</code></pre> </li> <li> <p>Create an EKS Cluster:</p> <ul> <li>Go to the EKS Console.</li> <li>Create a new EKS cluster and associate it with the IAM cluster role created earlier.</li> </ul> </li> <li> <p>Launch EC2 Instances for Kubernetes Nodes:</p> <ul> <li>Launch EC2 instances and associate them with the IAM node instance role. Ensure these instances are part of the EKS node group.</li> </ul> </li> <li> <p>Deploy Gradio Application:</p> <ul> <li>Package your Gradio application into a Docker container and push the image to Amazon ECR.</li> <li>Create a Kubernetes deployment YAML file specifying the container image from ECR and deploy it to your EKS cluster.</li> </ul> <p>Example Kubernetes Deployment YAML:</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: gradio-app\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: gradio\n  template:\n    metadata:\n      labels:\n        app: gradio\n    spec:\n      containers:\n        - name: gradio-container\n          image: &lt;your-ecr-repository-url&gt;/gradio-app:latest\n          ports:\n            - containerPort: 7860\n</code></pre> </li> <li> <p>Expose the Application:</p> <ul> <li>Create a Kubernetes Service to expose the Gradio application to the internet.</li> </ul> <p>Example Service YAML:</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: gradio-service\nspec:\n  selector:\n    app: gradio\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 7860\n  type: LoadBalancer\n</code></pre> </li> </ol>"},{"location":"2024/08/25/iam-for-eks/#3-iam-roles-in-aws-console-options","title":"3. IAM Roles in AWS Console Options","text":"<p>You mentioned having different console options: <code>DATAengROLE</code>, <code>DATASCIENC</code>, and <code>DATAANALYST</code>. These are IAM roles configured for various teams or purposes. Here\u2019s how they might be used:</p> <ul> <li>DATAengROLE: This role could be configured to provide access to data engineering tools and resources, like Apache Airflow, for data engineers. If you have access to Airflow with this role, it means that <code>DATAengROLE</code> includes permissions to view and manage Airflow resources.</li> </ul> <ul> <li>DATASCIENC: This role might be tailored for data scientists, granting access to tools and resources pertinent to data analysis and modeling. The specific permissions and services available to this role would depend on the policies attached.</li> </ul> <ul> <li>DATAANALYST: This role could be for data analysts, providing access to reporting tools or datasets but not necessarily the same resources as the other roles.</li> </ul> <p>Role-Based Access: In your case, when using the <code>DATAengROLE</code>, you have access to Airflow because this role has the necessary permissions configured. Conversely, the <code>DATAANALYST</code> role might not have the same permissions, hence the lack of access to Airflow.</p>"},{"location":"2024/08/25/iam-for-eks/#conclusion","title":"Conclusion","text":"<p>Understanding the difference between IAM roles and IAM users is fundamental for managing access and permissions in AWS. IAM roles are particularly useful for granting temporary access and managing permissions for AWS services and resources, while IAM users are suited for individuals requiring direct access.</p> <p>In the context of deploying an application like Gradio on Amazon EKS, properly configuring IAM roles ensures that your EKS cluster and EC2 instances have the appropriate permissions to interact with other AWS services. Additionally, understanding IAM roles in relation to different AWS console options helps in managing access based on specific roles and responsibilities within your organization.</p>"},{"location":"archive/2024/","title":"2024","text":""},{"location":"category/cicd/","title":"CI/CD","text":""},{"location":"category/documentation/","title":"documentation","text":""},{"location":"category/aws/","title":"AWS","text":""}]}